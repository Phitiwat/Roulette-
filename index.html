<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ultra Spin</title>

<style>
body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:
    repeating-linear-gradient(
        90deg,
        #8b5a2b 0px,
        #8b5a2b 70px,
        #7a4d24 70px,
        #7a4d24 140px
    );
    overflow:hidden;
    cursor:pointer;
    font-family:Arial, sans-serif;
}

/* subtle lighting overlay */
body::after{
    content:"";
    position:fixed;
    inset:0;
    background:radial-gradient(circle at center,
        rgba(255,255,255,0.15),
        rgba(0,0,0,0.5));
    pointer-events:none;
}

#game{
    position:relative;
    text-align:center;
}

#arrow{
    width:450px;
    max-width:90vw;
    transform-origin:center center;
    transition:transform 4s cubic-bezier(.1,.9,.2,1);
    filter:drop-shadow(0 10px 20px rgba(0,0,0,0.6));
}

.blur{
    filter:blur(4px) drop-shadow(0 10px 20px rgba(0,0,0,0.6));
}

#text{
    margin-top:40px;
    font-size:22px;
    color:white;
    text-shadow:2px 2px 8px black;
    letter-spacing:2px;
}
</style>
</head>

<body onclick="spin()">

<div id="game">
    <img src="arrow.png" id="arrow">
    <div id="text">CLICK ANYWHERE TO SPIN</div>
</div>

<script>

const arrow = document.getElementById("arrow");
const text = document.getElementById("text");

let spinning = false;
let rotation = 0;

function spinSound(){
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    const osc = ctx.createOscillator();
    const gain = ctx.createGain();

    osc.type = "sawtooth";
    osc.frequency.setValueAtTime(500, ctx.currentTime);
    osc.frequency.exponentialRampToValueAtTime(100, ctx.currentTime + 0.4);

    gain.gain.setValueAtTime(0.2, ctx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + 0.4);

    osc.connect(gain);
    gain.connect(ctx.destination);

    osc.start();
    osc.stop(ctx.currentTime + 0.4);
}

function spin(){

    if(spinning) return;
    spinning = true;

    text.innerText = "SPINNING...";
    arrow.classList.add("blur");

    spinSound();

    let extraSpin = 360 * 6 + Math.floor(Math.random()*360);
    rotation += extraSpin;

    arrow.style.transform = `rotate(${rotation}deg)`;

    setTimeout(()=>{
        arrow.classList.remove("blur");
        text.innerText = "CLICK TO SPIN AGAIN";
        spinning = false;
    },4000);
}

</script>

</body>
</html>
